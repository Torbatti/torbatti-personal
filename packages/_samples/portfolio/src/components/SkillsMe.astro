---
import Part0 from './index/Part_0.astro';
import Part1 from './index/Part_1.astro';
import Part2 from './index/Part_2.astro';

// lib import
import { Image, Picture } from '@astrojs/image/components';
---
<div id="skillMe" class="vbox box-col jcontent-center aitems-center tc5 flex">

  <div id="skillMe-texts" class="flex flex-col low-gap tc1">
    <div id="text_0"> فرانت اند </div>
    <div id="text_1"> تکنولوژی </div>
    <div id="text_2"> بک اند </div>
  </div>

  <div id="skillMe-parts">
    <div id="part_0">
      <Part0 />
    </div>
    <div id="part_1">
      <Part1 />
    </div>
    <div id="part_2">
      <Part2 />
    </div>
  </div>
  
</div>


<script type="module">
  const t0 = document.querySelector("#text_0");
  const t1 = document.querySelector("#text_1");
  const t2 = document.querySelector("#text_2");

  const p0 = document.querySelector("#part_0");
  const p1 = document.querySelector("#part_1");
  const p2 = document.querySelector("#part_2");

  t1.classList.add("gray")
  t2.classList.add("gray")

  p1.classList.add("hide")
  p2.classList.add("hide")

  function toggle_part(text,part) {
    t0.classList.add("gray")
    t1.classList.add("gray")
    t2.classList.add("gray")

    p0.classList.add("hide")
    p1.classList.add("hide")
    p2.classList.add("hide")

    text.classList.toggle("gray")
    part.classList.toggle("hide");
  }

  t0.addEventListener("click",()=>(toggle_part(t0,p0)))
  t1.addEventListener("click",()=>(toggle_part(t1,p1)))
  t2.addEventListener("click",()=>(toggle_part(t2,p2)))

</script>


<style>
  .gray{filter: grayscale(100%);}
  .hide{display:none;}
  #skillMe{
    padding:0.5rem 0;
    border-radius:4px;
  }

  #skillMe-texts{width:8rem;}
  #skillMe-texts div{
    padding:0.5rem;
    border-radius:0 0.5rem 0.5rem 0;
    text-align:center;
  }

  #text_0,#text_1,#text_2{
    cursor:pointer;
    background-color:var(--c3);
    font-size:larger;
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
  }

  #skillMe-parts{width:100%;}
  #skillMe-parts div{width:100%;min-height:60vh;padding:1rem;background-color:var(--c3);border-radius:4px;}
  
  @media(min-width:768px){
    #skillMe-parts div{min-height:40vh;}
  }
  @media(max-width:768px){
    #skillMe{flex-direction:column;}
    #skillMe-texts{width:100%;flex-direction:row;justify-content: space-between;}
    #skillMe-texts div{padding:4px 1rem;border-radius:0.5rem 0.5rem 0 0;}
    #skillMe-parts div{border-radius:0 0 4px 4px;}
  }


</style>